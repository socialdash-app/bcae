<template>
    <div id="home"
         :style="{height: height + 'px'}"
         class="flex relative pt-20 md:pt-0 items-center bg-[#111827] overflow-hidden shrink-0 flex-col w-screen">
        <div
            class="w-full md:!bg-transparent header py-4 flex justify-between  z-[100] px-4 md:!px-20 fixed top-0 left-0">
            <div class="flex w-full gap-x-2 items-center">
                <img class="w-8 brand-icon h-8 md:!w-12 md:!h-12" src="assets/logo.svg" alt="logo"/>
                <h1 class="font-bevietnampro brand-title text-[#5309dd] font-bold text-lg md:text-2xl">Social Dash</h1>
            </div>
        </div>
        <div id="home-container"
             class="w-full sticky z-20 shrink-0 top-0 left-0 overflow-hidden md:tracking-wide h-full leading-relaxed text-gray-800 justify-between md:!justify-center flex md:!flex-row flex-col items-center">
            <div id="home-text"
                 class="w-full z-10 md:!w-7/12 2xl:!w-6/12 relative h-5/6 md:h-4/6 flex flex-col overflow-hidden">
                <div class="md:h-32 w-full shrink-0">

                </div>
                <h1 class="sticky p-4 title -top-4 md:top-0 bg-transparent z-10 uppercase text-[#E8544E] font-bold text-4xl xl:text-7xl">
                    <span class="home-title inline-block pr-2 md:pr-4 opacity-0 ">Before </span>
                    <span class="home-title inline-block pr-2 md:pr-4 opacity-0 ">the </span>
                    <span class="home-title inline-block pr-2 md:pr-4 opacity-0 ">coup </span> <br>
                    <span class="home-title inline-block pr-2 md:pr-4 opacity-0 ">After </span>
                    <span class="home-title inline-block pr-2 md:pr-4 opacity-0 ">the </span>
                    <span class="home-title inline-block pr-2 md:pr-4 opacity-0 ">election</span>
                </h1>
                <div class="h-5/6 w-full shrink-0"></div>
                <div
                    class="flex px-4 flex-col md:backdrop-blur-0  relative h-5/6 w-full leading-relaxed md:leading-8 tracking-wider">
                    <p class="description w-full text-gray-600 backdrop-blur md:backdrop-blur-0">On the 1st of February
                        2021, Vice President Myint Swe became an Acting President and declared on state-owned media that
                        the results of the November 2020 general election were invalid. He instated a one-year state of
                        emergency and handed control of the executive, legislative, and judicial branches of government
                        to the commander in chief of the armed forces, Senior General Min Aung Hlaing. People’s hopes
                        for democracy that had been glowing since 2010 were dashed. The coup has also brought economic
                        turmoil, wiping out modest gains in poverty reduction made over the past decade. However, this
                        coup was not the first time for Myanmar; it was preceded by many military coups since 1958.
                        <br/>
                        Before the coup d’état, the military and other political parties repeatedly announced that the
                        election was unfair. Do you think the 2020 general election was unfair? Do you want to know the
                        incidents that happened during the period before the coup and after the election?
                        <br/>
                        In BCAE, you can explore election results, actions of related organizations or parties,
                        prominent events, and other announcements both before the coup and after the election. BCAE
                        covers data from the social media pages of officials and newsrooms.
                    </p>
                    <h1 class="font-semibold text-xl mt-40 description backdrop-blur md:backdrop-blur-0">
                        Interaction and navigation guide</h1>
                    <p class="description w-full mt-4 text-gray-700 backdrop-blur md:backdrop-blur-0">
                        BCAE story is linear and you can scroll vertically to explore the story. You can jump to any
                        section in the carousel page which can be accessed by clicking on the section icon in the
                        top-right corner. You can also interact with different elements on the page. A blinking (i) icon
                        indicates that you can interact with an element, and it will disappear once you do so. You can
                        click on a static (i) icon to see more information about an element. Interactable texts are
                        enclosed in [text-box] and you can see more information by clicking them.
                    </p>
                </div>
            </div>
            <div
                id="illustration-container"
                class="w-full px-4 md:!px-0 relative md:!w-5/12 lg:!w-4/12 3xl:!w-3/12 h-1/6 md:h-full flex items-end justify-between md:justify-end ">
                <div style="transform-origin: center bottom;" v-html="voteHandIllustration"
                     class="flex items-end h-[50vh] md:!h-[70vh] home-illustration opacity-0"></div>
                <div style="transform-origin: center bottom;" v-html="threeFingerIllustration"
                     class="flex items-end h-[40vh] md:!h-[50vh] home-illustration opacity-0"></div>
            </div>
            <div id="scroll-down-indicator" class="fixed z-30 bottom-8 opacity-0 flex flex-col items-center">
                <h1 class="font-semibold md:    text-xl">Scroll</h1>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                     stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                     class="lucide lucide-arrow-down">
                    <path d="M12 5v14"/>
                    <path d="m19 12-7 7-7-7"/>
                </svg>
            </div>
            <div class="absolute bottom-0 z-20" style="perspective: 400px;">
                <svg id="Ballot" class="h-[50vh] overflow-visible transform translate-y-full" width="687" height="846"
                     viewBox="0 0 687 846" fill="none" style="transform-style: preserve-3d"
                     xmlns="http://www.w3.org/2000/svg">
                    <g id="Ballot initial 1">
                        <g id="Clip path group">
                            <mask id="mask0_11_2455" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0"
                                  y="226" width="687" height="620">
                                <g id="ArtboardFrame">
                                    <path id="Vector" d="M687 226H0V846H687V226Z" fill="white"/>
                                </g>
                            </mask>
                            <g mask="url(#mask0_11_2455)">
                                <g id="Layer-1">
                                    <g id="Group">
                                        <g id="Group_2">
                                            <path id="Vector_2" d="M30 323.5L470.85 361.24V846L30 808.27V323.5Z"
                                                  fill="#87CEEB" stroke="black" stroke-miterlimit="10"
                                                  stroke-linejoin="round"/>
                                            <path id="Vector_3"
                                                  d="M470.85 361.24L657.07 269.95V754.72L470.85 846V361.24Z"
                                                  fill="#87CEEB" stroke="black" stroke-miterlimit="10"
                                                  stroke-linejoin="round"/>
                                        </g>
                                        <g id="Group_3">
                                            <path id="Vector_4" d="M204 226L687 267.4L483 367.4L0 326L204 226Z"
                                                  fill="#87CEEB" stroke="black" stroke-miterlimit="10"
                                                  stroke-linejoin="round"/>
                                            <path id="Vector_5" d="M0 326L483 367.4V426L0 384.6V326Z" fill="#87CEEB"
                                                  stroke="black" stroke-miterlimit="10" stroke-linejoin="round"/>
                                            <path id="Vector_6" d="M483 367.4L687 267.4V326L483 426V367.4Z"
                                                  fill="#87CEEB" stroke="black" stroke-miterlimit="10"
                                                  stroke-linejoin="round"/>
                                        </g>
                                        <path id="Vector_7"
                                              d="M248.001 286.72L446.871 303.76L439.411 306.68L240.135 289.61L248.001 286.72Z"
                                              fill="#87CEEB" stroke="black" stroke-miterlimit="10"
                                              stroke-linejoin="round"/>
                                    </g>
                                </g>
                            </g>
                        </g>
                        <mask id="mask1_11_2455" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="-657" y="-806"
                              width="2207" height="1113">
                            <path id="card mask"
                                  d="M208.5 267L253.5 290L437 305.5L525.5 267L1055 278.5L1347 188L1548.5 -190L1469 -613.5L991.5 -805.5H54.5L-656.5 -724V-387V-36L-541 224L-208 267H120H208.5Z"
                                  fill="#D9D9D9" stroke="black"/>
                        </mask>
                        <g mask="url(#mask1_11_2455)">
                            <g id="story"
                               @click="clickCard('story')"
                               style="cursor: pointer; -webkit-transform-origin: center; transform-origin: center; transform: skewY(5deg) translateX(0px) translateY(380px)">
                                <g id="Layer-1_2">
                                    <path id="Vector_8" d="M276.5 58.5H445.5V251.5H276.5V58.5Z" fill="#FFF21F"
                                          stroke="black"/>
                                    <g id="Group_4">
                                        <g id="Mask group">
                                            <mask id="mask2_11_2455" style="mask-type:luminance"
                                                  maskUnits="userSpaceOnUse"
                                                  x="332" y="82" width="58" height="49">
                                                <g id="Group_5">
                                                    <path id="Vector_9" d="M389.333 82.25H332.666V130.75H389.333V82.25Z"
                                                          fill="black"/>
                                                    <path id="Vector_10"
                                                          d="M332.666 82.25H389.333V130.75H332.666V82.25Z"
                                                          fill="white"/>
                                                </g>
                                            </mask>
                                            <g mask="url(#mask2_11_2455)">
                                                <path id="Vector_11" d="M332.666 82.25H389.333V130.75H332.666V82.25Z"
                                                      stroke="black" stroke-width="10" stroke-miterlimit="10"
                                                      stroke-linejoin="round"/>
                                            </g>
                                        </g>
                                    </g>
                                    <g id="Group_6">
                                        <path id="Vector_12"
                                              d="M294.814 203.743C293.568 203.743 292.496 203.605 291.598 203.33C290.701 203.055 289.96 202.704 289.374 202.275C288.789 201.847 288.321 201.39 287.972 200.905C287.622 200.42 287.363 199.964 287.193 199.535C287.023 199.107 286.909 198.755 286.853 198.48C286.796 198.205 286.768 198.068 286.768 198.068H290.139C290.139 198.068 290.168 198.177 290.224 198.395C290.281 198.614 290.394 198.88 290.564 199.196C290.734 199.511 290.994 199.826 291.343 200.142C291.693 200.457 292.156 200.723 292.732 200.941C293.308 201.16 294.04 201.269 294.928 201.269C296.25 201.269 297.284 201.002 298.03 200.469C298.776 199.935 299.149 199.256 299.149 198.432C299.149 197.72 298.871 197.167 298.313 196.771C297.756 196.374 296.939 196.071 295.863 195.861L293.086 195.303C292.047 195.109 291.088 194.823 290.21 194.443C289.332 194.063 288.623 193.549 288.085 192.903C287.547 192.256 287.278 191.44 287.278 190.453C287.278 189.386 287.585 188.469 288.198 187.701C288.812 186.933 289.662 186.343 290.748 185.931C291.835 185.518 293.076 185.312 294.474 185.312C295.834 185.312 296.958 185.486 297.846 185.834C298.734 186.182 299.442 186.606 299.971 187.107C300.5 187.608 300.892 188.113 301.147 188.623C301.402 189.132 301.567 189.56 301.643 189.908C301.718 190.256 301.756 190.429 301.756 190.429H298.526C298.526 190.429 298.488 190.296 298.413 190.029C298.337 189.762 298.162 189.451 297.888 189.096C297.615 188.74 297.199 188.429 296.642 188.162C296.085 187.895 295.334 187.762 294.389 187.762C293.086 187.762 292.113 188.02 291.471 188.538C290.829 189.055 290.508 189.629 290.508 190.259C290.508 190.874 290.781 191.363 291.329 191.726C291.877 192.091 292.614 192.361 293.539 192.539L296.514 193.145C297.61 193.355 298.606 193.671 299.503 194.091C300.401 194.511 301.114 195.065 301.643 195.752C302.171 196.439 302.436 197.276 302.436 198.262C302.436 199.264 302.148 200.182 301.572 201.014C300.996 201.847 300.141 202.51 299.008 203.003C297.874 203.496 296.476 203.743 294.814 203.743Z"
                                              fill="black"/>
                                        <path id="Vector_13"
                                              d="M312.098 203.742C310.908 203.742 309.954 203.556 309.237 203.185C308.519 202.813 308.004 202.316 307.692 201.693C307.381 201.071 307.225 200.396 307.225 199.668V192.878H304.59V190.647H307.225V187.446H310.455V190.647H313.968V192.878H310.455V199.62C310.455 200.832 311.239 201.439 312.807 201.439C313.203 201.439 313.572 201.414 313.912 201.366C314.252 201.317 314.422 201.293 314.422 201.293V203.548C314.422 203.548 314.19 203.581 313.727 203.645C313.265 203.71 312.722 203.742 312.098 203.742Z"
                                              fill="black"/>
                                        <path id="Vector_14"
                                              d="M323.771 190.405C324.715 190.405 325.504 190.535 326.137 190.793C326.769 191.052 327.275 191.351 327.652 191.691C328.03 192.03 328.304 192.321 328.474 192.564H328.644V190.648H331.874V203.5H328.644V201.585H328.474C328.304 201.827 328.03 202.118 327.652 202.458C327.275 202.797 326.769 203.096 326.137 203.355C325.504 203.613 324.715 203.743 323.771 203.743C322.637 203.743 321.651 203.553 320.81 203.173C319.969 202.793 319.266 202.284 318.699 201.645C318.132 201.006 317.712 200.291 317.438 199.499C317.164 198.707 317.027 197.899 317.027 197.074C317.027 196.25 317.164 195.441 317.438 194.649C317.712 193.857 318.132 193.142 318.699 192.503C319.266 191.864 319.969 191.355 320.81 190.975C321.651 190.595 322.637 190.405 323.771 190.405ZM324.479 192.709C323.553 192.709 322.779 192.923 322.156 193.352C321.532 193.78 321.065 194.326 320.753 194.989C320.441 195.651 320.286 196.347 320.286 197.074C320.286 197.802 320.441 198.497 320.753 199.16C321.065 199.822 321.532 200.368 322.156 200.796C322.779 201.225 323.553 201.439 324.479 201.439C325.405 201.439 326.174 201.225 326.788 200.796C327.402 200.368 327.865 199.822 328.177 199.16C328.488 198.497 328.644 197.802 328.644 197.074C328.644 196.347 328.488 195.651 328.177 194.989C327.865 194.326 327.402 193.78 326.788 193.352C326.174 192.923 325.405 192.709 324.479 192.709Z"
                                              fill="black"/>
                                        <path id="Vector_15"
                                              d="M335.613 203.5V190.648H338.843V192.345H338.957C339.24 191.844 339.688 191.396 340.303 190.999C340.917 190.603 341.809 190.405 342.98 190.405C343.339 190.405 343.646 190.421 343.901 190.454C344.156 190.486 344.283 190.502 344.283 190.502V193.17C344.283 193.17 344.142 193.154 343.858 193.121C343.575 193.089 343.254 193.073 342.895 193.073C341.573 193.073 340.567 193.392 339.878 194.03C339.188 194.669 338.843 195.7 338.843 197.123V203.5H335.613Z"
                                              fill="black"/>
                                        <path id="Vector_16"
                                              d="M353.69 203.742C352.5 203.742 351.546 203.556 350.828 203.185C350.111 202.813 349.596 202.316 349.284 201.693C348.972 201.071 348.817 200.396 348.817 199.668V192.878H346.182V190.647H348.817V187.446H352.047V190.647H355.56V192.878H352.047V199.62C352.047 200.832 352.831 201.439 354.398 201.439C354.795 201.439 355.163 201.414 355.503 201.366C355.843 201.317 356.013 201.293 356.013 201.293V203.548C356.013 203.548 355.782 203.581 355.319 203.645C354.856 203.71 354.313 203.742 353.69 203.742Z"
                                              fill="black"/>
                                        <path id="Vector_17"
                                              d="M371.625 203.743C370.435 203.743 369.458 203.601 368.693 203.319C367.927 203.035 367.318 202.688 366.865 202.275C366.412 201.863 366.077 201.447 365.859 201.027C365.642 200.606 365.505 200.255 365.448 199.972C365.392 199.689 365.363 199.548 365.363 199.548H368.508C368.508 199.548 368.541 199.648 368.608 199.85C368.674 200.053 368.811 200.283 369.018 200.542C369.226 200.8 369.547 201.031 369.982 201.233C370.416 201.435 370.992 201.536 371.71 201.536C372.579 201.536 373.226 201.366 373.651 201.027C374.076 200.687 374.288 200.299 374.288 199.863C374.288 199.442 374.109 199.111 373.75 198.869C373.391 198.626 372.881 198.44 372.22 198.311L370.18 197.923C369.387 197.761 368.645 197.539 367.956 197.256C367.266 196.973 366.709 196.593 366.284 196.116C365.859 195.639 365.647 195.021 365.647 194.261C365.647 193.146 366.138 192.224 367.12 191.497C368.102 190.769 369.424 190.405 371.087 190.405C372.163 190.405 373.056 190.535 373.764 190.793C374.473 191.052 375.034 191.371 375.45 191.751C375.866 192.131 376.177 192.511 376.385 192.891C376.593 193.271 376.729 193.586 376.796 193.837C376.862 194.087 376.895 194.213 376.895 194.213H373.863C373.863 194.213 373.835 194.132 373.778 193.97C373.722 193.808 373.599 193.619 373.41 193.4C373.221 193.182 372.943 192.988 372.574 192.818C372.206 192.648 371.71 192.564 371.087 192.564C370.237 192.564 369.623 192.725 369.245 193.049C368.867 193.372 368.678 193.719 368.678 194.091C368.678 194.479 368.862 194.782 369.231 195C369.599 195.219 370.085 195.385 370.69 195.498L372.702 195.886C374.043 196.144 375.148 196.569 376.017 197.159C376.886 197.749 377.32 198.602 377.32 199.717C377.32 200.461 377.098 201.136 376.654 201.742C376.21 202.349 375.563 202.833 374.713 203.197C373.863 203.561 372.834 203.743 371.625 203.743Z"
                                              fill="black"/>
                                        <path id="Vector_18"
                                              d="M386.813 203.742C385.623 203.742 384.669 203.556 383.951 203.185C383.234 202.813 382.719 202.316 382.407 201.693C382.095 201.071 381.94 200.396 381.94 199.668V192.878H379.305V190.647H381.94V187.446H385.17V190.647H388.683V192.878H385.17V199.62C385.17 200.832 385.954 201.439 387.521 201.439C387.918 201.439 388.286 201.414 388.626 201.366C388.966 201.317 389.136 201.293 389.136 201.293V203.548C389.136 203.548 388.905 203.581 388.442 203.645C387.979 203.71 387.436 203.742 386.813 203.742Z"
                                              fill="black"/>
                                        <path id="Vector_19"
                                              d="M399.307 203.743C397.664 203.743 396.28 203.428 395.157 202.797C394.032 202.167 393.183 201.342 392.607 200.324C392.03 199.305 391.742 198.222 391.742 197.074C391.742 195.926 392.03 194.843 392.607 193.825C393.183 192.806 394.032 191.982 395.157 191.351C396.28 190.721 397.664 190.405 399.307 190.405C400.932 190.405 402.306 190.721 403.43 191.351C404.554 191.982 405.403 192.806 405.98 193.825C406.556 194.843 406.844 195.926 406.844 197.074C406.844 198.222 406.556 199.305 405.98 200.324C405.403 201.342 404.554 202.167 403.43 202.797C402.306 203.428 400.932 203.743 399.307 203.743ZM399.307 201.391C400.233 201.391 401.012 201.188 401.645 200.784C402.278 200.38 402.759 199.847 403.09 199.184C403.42 198.521 403.586 197.818 403.586 197.074C403.586 196.314 403.42 195.607 403.09 194.952C402.759 194.297 402.278 193.768 401.645 193.364C401.012 192.96 400.233 192.758 399.307 192.758C398.382 192.758 397.598 192.96 396.956 193.364C396.313 193.768 395.832 194.297 395.511 194.952C395.189 195.607 395.029 196.314 395.029 197.074C395.029 197.818 395.189 198.521 395.511 199.184C395.832 199.847 396.313 200.38 396.956 200.784C397.598 201.188 398.382 201.391 399.307 201.391Z"
                                              fill="black"/>
                                        <path id="Vector_20"
                                              d="M410.33 203.5V190.648H413.56V192.345H413.673C413.957 191.844 414.405 191.396 415.019 190.999C415.633 190.603 416.526 190.405 417.697 190.405C418.056 190.405 418.362 190.421 418.617 190.454C418.873 190.486 419 190.502 419 190.502V193.17C419 193.17 418.858 193.154 418.575 193.121C418.292 193.089 417.971 193.073 417.612 193.073C416.29 193.073 415.284 193.392 414.594 194.03C413.905 194.669 413.56 195.7 413.56 197.123V203.5H410.33Z"
                                              fill="black"/>
                                        <path id="Vector_21"
                                              d="M422.627 208.229C422.154 208.229 421.767 208.213 421.465 208.18C421.163 208.148 421.012 208.132 421.012 208.132V205.828C421.012 205.828 421.163 205.84 421.465 205.864C421.767 205.889 422.098 205.901 422.457 205.901C423.496 205.901 424.35 205.735 425.021 205.403C425.692 205.072 426.263 204.494 426.735 203.67L421.012 190.647H424.298L428.35 200.275L432.402 190.647H435.745L430.078 203.354C429.323 205.02 428.359 206.248 427.188 207.04C426.017 207.833 424.497 208.229 422.627 208.229Z"
                                              fill="black"/>
                                    </g>
                                </g>
                                <g>
                                    <path stroke-width="2"
                                          stroke="black"
                                          style="stroke-dasharray: 256; stroke-dashoffset: 256;" id="story-check"
                                          d="M356.583 122.623C357.478 122.623 358.184 122.288 358.702 121.618L378.53 94.8956C378.712 94.6444 378.845 94.4139 378.929 94.2044C379.013 93.9948 379.055 93.7824 379.055 93.5667C379.055 93.0759 378.88 92.6808 378.53 92.3817C378.18 92.0823 377.719 91.9326 377.145 91.9326C376.726 91.9326 376.383 92.0015 376.117 92.1392C375.851 92.277 375.593 92.5133 375.341 92.8486L356.499 118.547L346.721 107.592C346.217 107.006 345.616 106.713 344.917 106.713C344.329 106.713 343.846 106.871 343.469 107.188C343.091 107.506 342.902 107.909 342.902 108.401C342.902 108.616 342.951 108.835 343.049 109.056C343.147 109.278 343.301 109.496 343.511 109.711L354.4 121.582C355.03 122.276 355.757 122.623 356.583 122.623Z"
                                          fill="none"/>
                                </g>
                            </g>
                            <g id="explore"
                               @click="clickCard('explore')"
                               style="  cursor: pointer; -webkit-transform-origin: center; transform-origin: center; transform: skewY(5deg) translateX(0px) translateY(400px)">
                                <g id="Layer-1_3">
                                    <path id="Vector_23" d="M259.5 0.5H428.5V193.5H259.5V0.5Z" fill="#FFF21F"
                                          stroke="black"/>
                                    <g id="Group_7">
                                        <g id="Mask group_2">
                                            <mask id="mask3_11_2455" style="mask-type:luminance"
                                                  maskUnits="userSpaceOnUse"
                                                  x="315" y="24" width="58" height="49">
                                                <g id="Group_8">
                                                    <path id="Vector_24" d="M372.333 24.25H315.666V72.75H372.333V24.25Z"
                                                          fill="black"/>
                                                    <path id="Vector_25" d="M315.666 24.25H372.333V72.75H315.666V24.25Z"
                                                          fill="white"/>
                                                </g>
                                            </mask>
                                            <g mask="url(#mask3_11_2455)">
                                                <path id="Vector_26" d="M315.666 24.25H372.333V72.75H315.666V24.25Z"
                                                      stroke="black" stroke-width="10" stroke-miterlimit="10"
                                                      stroke-linejoin="round"/>
                                            </g>
                                        </g>
                                    </g>
                                    <g id="Group_9">
                                        <path id="Vector_27"
                                              d="M293.127 130.142V112.197H306.812V114.671H296.442V119.788H305.509V122.237H296.442V127.669H306.954V130.142H293.127Z"
                                              fill="black"/>
                                        <path id="Vector_28"
                                              d="M309.899 130.142L314.688 123.74L309.871 117.289H313.299L316.869 122.091L320.468 117.289H323.896L318.994 123.74L323.868 130.142H320.439L316.869 125.34L313.328 130.142H309.899Z"
                                              fill="black"/>
                                        <path id="Vector_29"
                                              d="M327.184 134.895V117.289H330.414V119.205H330.584C330.772 118.963 331.051 118.672 331.419 118.332C331.788 117.993 332.288 117.694 332.921 117.435C333.554 117.176 334.352 117.047 335.315 117.047C336.43 117.047 337.412 117.237 338.262 117.617C339.112 117.997 339.815 118.506 340.373 119.145C340.93 119.783 341.345 120.498 341.619 121.291C341.893 122.083 342.03 122.891 342.03 123.716C342.03 124.54 341.893 125.348 341.619 126.141C341.345 126.933 340.93 127.648 340.373 128.287C339.815 128.925 339.112 129.434 338.262 129.815C337.412 130.195 336.43 130.384 335.315 130.384C334.352 130.384 333.554 130.255 332.921 129.996C332.288 129.738 331.788 129.439 331.419 129.099C331.051 128.76 330.772 128.469 330.584 128.226H330.414V134.895H327.184ZM330.414 123.716C330.414 124.443 330.569 125.138 330.881 125.801C331.193 126.464 331.655 127.009 332.269 127.438C332.883 127.867 333.653 128.081 334.579 128.081C335.523 128.081 336.302 127.867 336.916 127.438C337.53 127.009 337.993 126.464 338.304 125.801C338.616 125.138 338.772 124.443 338.772 123.716C338.772 122.988 338.616 122.293 338.304 121.63C337.993 120.967 337.53 120.422 336.916 119.993C336.302 119.565 335.523 119.351 334.579 119.351C333.653 119.351 332.883 119.565 332.269 119.993C331.655 120.422 331.193 120.967 330.881 121.63C330.569 122.293 330.414 122.988 330.414 123.716Z"
                                              fill="black"/>
                                        <path id="Vector_30"
                                              d="M345.742 130.142L345.771 111.712H348.972V130.142H345.742Z"
                                              fill="black"/>
                                        <path id="Vector_31"
                                              d="M360.249 130.384C358.605 130.384 357.221 130.069 356.098 129.439C354.974 128.808 354.124 127.984 353.548 126.965C352.971 125.947 352.684 124.863 352.684 123.716C352.684 122.568 352.971 121.485 353.548 120.466C354.124 119.448 354.974 118.623 356.098 117.993C357.221 117.362 358.605 117.047 360.249 117.047C361.873 117.047 363.247 117.362 364.371 117.993C365.495 118.623 366.345 119.448 366.921 120.466C367.497 121.485 367.785 122.568 367.785 123.716C367.785 124.863 367.497 125.947 366.921 126.965C366.345 127.984 365.495 128.808 364.371 129.439C363.247 130.069 361.873 130.384 360.249 130.384ZM360.249 128.032C361.174 128.032 361.953 127.83 362.586 127.426C363.219 127.022 363.7 126.488 364.031 125.825C364.361 125.163 364.527 124.459 364.527 123.716C364.527 122.956 364.361 122.249 364.031 121.594C363.7 120.939 363.219 120.41 362.586 120.005C361.953 119.601 361.174 119.399 360.249 119.399C359.323 119.399 358.539 119.601 357.897 120.005C357.254 120.41 356.773 120.939 356.452 121.594C356.13 122.249 355.97 122.956 355.97 123.716C355.97 124.459 356.13 125.163 356.452 125.825C356.773 126.488 357.254 127.022 357.897 127.426C358.539 127.83 359.323 128.032 360.249 128.032Z"
                                              fill="black"/>
                                        <path id="Vector_32"
                                              d="M371.27 130.142V117.289H374.5V118.987H374.613C374.896 118.486 375.345 118.037 375.959 117.641C376.572 117.245 377.465 117.047 378.636 117.047C378.995 117.047 379.302 117.063 379.557 117.095C379.812 117.128 379.94 117.144 379.94 117.144V119.811C379.94 119.811 379.798 119.795 379.515 119.763C379.231 119.731 378.91 119.714 378.551 119.714C377.229 119.714 376.223 120.034 375.534 120.672C374.844 121.311 374.5 122.341 374.5 123.764V130.142H371.27Z"
                                              fill="black"/>
                                        <path id="Vector_33"
                                              d="M388.808 130.384C387.542 130.384 386.451 130.195 385.535 129.815C384.619 129.434 383.864 128.925 383.269 128.287C382.674 127.648 382.23 126.933 381.937 126.141C381.644 125.348 381.498 124.54 381.498 123.716C381.498 122.907 381.639 122.107 381.923 121.315C382.206 120.523 382.64 119.803 383.226 119.157C383.812 118.51 384.558 117.997 385.465 117.617C386.371 117.237 387.438 117.047 388.666 117.047C389.989 117.047 391.155 117.301 392.165 117.811C393.176 118.32 393.969 119.072 394.545 120.066C395.121 121.06 395.41 122.293 395.41 123.764V124.516H384.756C384.832 125.502 385.219 126.351 385.918 127.062C386.617 127.773 387.58 128.129 388.808 128.129C389.507 128.129 390.083 128.028 390.536 127.826C390.99 127.624 391.339 127.394 391.585 127.135C391.83 126.876 392.005 126.65 392.109 126.456C392.213 126.262 392.265 126.165 392.265 126.165H395.268C395.268 126.165 395.221 126.306 395.126 126.589C395.032 126.872 394.857 127.224 394.602 127.644C394.347 128.064 393.984 128.485 393.511 128.905C393.039 129.325 392.416 129.677 391.641 129.96C390.867 130.243 389.922 130.384 388.808 130.384ZM384.785 122.576H392.293C392.217 121.444 391.825 120.612 391.117 120.078C390.409 119.545 389.582 119.278 388.638 119.278C387.58 119.278 386.702 119.573 386.003 120.163C385.304 120.753 384.898 121.557 384.785 122.576Z"
                                              fill="black"/>
                                        <path id="Vector_34"
                                              d="M292.461 161.101C291.271 161.101 290.293 160.96 289.528 160.677C288.763 160.394 288.154 160.046 287.701 159.634C287.248 159.222 286.912 158.806 286.695 158.385C286.478 157.965 286.341 157.613 286.284 157.33C286.228 157.047 286.199 156.906 286.199 156.906H289.344C289.344 156.906 289.377 157.007 289.443 157.209C289.509 157.411 289.646 157.642 289.854 157.9C290.062 158.159 290.383 158.389 290.818 158.591C291.252 158.794 291.828 158.894 292.546 158.894C293.415 158.894 294.062 158.725 294.487 158.385C294.912 158.046 295.124 157.658 295.124 157.221C295.124 156.801 294.945 156.469 294.586 156.227C294.227 155.984 293.717 155.799 293.056 155.669L291.016 155.281C290.223 155.12 289.481 154.897 288.792 154.614C288.102 154.331 287.545 153.952 287.12 153.475C286.695 152.997 286.483 152.379 286.483 151.619C286.483 150.504 286.974 149.582 287.956 148.855C288.938 148.127 290.26 147.764 291.923 147.764C292.999 147.764 293.892 147.893 294.6 148.152C295.308 148.41 295.87 148.729 296.286 149.11C296.701 149.49 297.013 149.869 297.221 150.249C297.429 150.629 297.565 150.944 297.632 151.195C297.698 151.446 297.731 151.571 297.731 151.571H294.699C294.699 151.571 294.671 151.49 294.614 151.328C294.558 151.167 294.435 150.977 294.246 150.758C294.057 150.54 293.778 150.346 293.41 150.176C293.042 150.007 292.546 149.922 291.923 149.922C291.073 149.922 290.459 150.084 290.081 150.407C289.703 150.73 289.514 151.078 289.514 151.45C289.514 151.838 289.698 152.141 290.067 152.359C290.435 152.577 290.921 152.743 291.526 152.856L293.538 153.244C294.879 153.503 295.984 153.927 296.853 154.517C297.721 155.108 298.156 155.96 298.156 157.076C298.156 157.819 297.934 158.494 297.49 159.1C297.046 159.707 296.399 160.192 295.549 160.555C294.699 160.919 293.67 161.101 292.461 161.101Z"
                                              fill="black"/>
                                        <path id="Vector_35"
                                              d="M308.185 161.101C306.919 161.101 305.829 160.911 304.913 160.531C303.996 160.151 303.241 159.642 302.646 159.003C302.051 158.365 301.607 157.65 301.314 156.857C301.021 156.065 300.875 155.257 300.875 154.432C300.875 153.624 301.017 152.824 301.3 152.032C301.583 151.24 302.018 150.52 302.603 149.873C303.189 149.227 303.935 148.714 304.842 148.333C305.748 147.953 306.816 147.764 308.043 147.764C309.366 147.764 310.532 148.018 311.543 148.528C312.553 149.037 313.346 149.788 313.923 150.783C314.499 151.777 314.787 153.01 314.787 154.481V155.233H304.133C304.209 156.219 304.596 157.068 305.295 157.779C305.994 158.49 306.957 158.846 308.185 158.846C308.884 158.846 309.46 158.745 309.913 158.543C310.367 158.341 310.716 158.11 310.962 157.852C311.207 157.593 311.382 157.367 311.486 157.173C311.59 156.979 311.642 156.882 311.642 156.882H314.645C314.645 156.882 314.598 157.023 314.503 157.306C314.409 157.589 314.234 157.941 313.979 158.361C313.724 158.781 313.361 159.202 312.888 159.622C312.416 160.042 311.793 160.394 311.018 160.677C310.244 160.96 309.299 161.101 308.185 161.101ZM304.162 153.293H311.67C311.594 152.161 311.203 151.328 310.494 150.795C309.786 150.261 308.959 149.995 308.015 149.995C306.957 149.995 306.079 150.29 305.38 150.88C304.681 151.47 304.275 152.274 304.162 153.293Z"
                                              fill="black"/>
                                        <path id="Vector_36"
                                              d="M325.412 161.101C324.146 161.101 323.041 160.911 322.097 160.531C321.152 160.151 320.368 159.642 319.745 159.003C319.122 158.365 318.654 157.65 318.343 156.857C318.031 156.065 317.875 155.257 317.875 154.432C317.875 153.608 318.031 152.8 318.343 152.007C318.654 151.215 319.122 150.5 319.745 149.861C320.368 149.223 321.152 148.714 322.097 148.333C323.041 147.953 324.146 147.764 325.412 147.764C326.658 147.764 327.692 147.921 328.514 148.236C329.336 148.552 329.992 148.944 330.483 149.413C330.974 149.882 331.343 150.35 331.588 150.819C331.834 151.288 331.99 151.684 332.056 152.007C332.122 152.331 332.155 152.492 332.155 152.492H329.095C329.095 152.492 329.053 152.371 328.968 152.129C328.882 151.886 328.717 151.603 328.472 151.28C328.226 150.957 327.863 150.674 327.381 150.431C326.899 150.189 326.252 150.067 325.44 150.067C324.477 150.067 323.674 150.273 323.032 150.686C322.389 151.098 321.903 151.636 321.573 152.298C321.242 152.961 321.077 153.673 321.077 154.432C321.077 155.192 321.242 155.904 321.573 156.566C321.903 157.229 322.389 157.767 323.032 158.179C323.674 158.591 324.477 158.797 325.44 158.797C326.252 158.797 326.899 158.676 327.381 158.434C327.863 158.191 328.226 157.908 328.472 157.585C328.717 157.262 328.882 156.979 328.968 156.736C329.053 156.494 329.095 156.372 329.095 156.372H332.155C332.155 156.372 332.122 156.534 332.056 156.857C331.99 157.181 331.834 157.577 331.588 158.046C331.343 158.515 330.974 158.983 330.483 159.452C329.992 159.921 329.336 160.313 328.514 160.628C327.692 160.944 326.658 161.101 325.412 161.101Z"
                                              fill="black"/>
                                        <path id="Vector_37"
                                              d="M342.213 161.101C341.023 161.101 340.07 160.915 339.352 160.543C338.634 160.171 338.119 159.674 337.808 159.052C337.496 158.429 337.34 157.754 337.34 157.027V150.237H334.705V148.006H337.34V144.805H340.57V148.006H344.083V150.237H340.57V156.978C340.57 158.191 341.354 158.797 342.922 158.797C343.318 158.797 343.687 158.773 344.027 158.724C344.367 158.676 344.537 158.651 344.537 158.651V160.907C344.537 160.907 344.306 160.939 343.843 161.004C343.38 161.068 342.837 161.101 342.213 161.101Z"
                                              fill="black"/>
                                        <path id="Vector_38"
                                              d="M349.865 145.799C349.28 145.799 348.798 145.63 348.42 145.29C348.042 144.951 347.854 144.554 347.854 144.102C347.854 143.633 348.042 143.233 348.42 142.901C348.798 142.57 349.28 142.404 349.865 142.404C350.451 142.404 350.937 142.57 351.324 142.901C351.712 143.233 351.905 143.633 351.905 144.102C351.905 144.571 351.712 144.971 351.324 145.302C350.937 145.634 350.451 145.799 349.865 145.799ZM348.279 160.859V148.006H351.509V160.859H348.279Z"
                                              fill="black"/>
                                        <path id="Vector_39"
                                              d="M362.954 161.101C361.31 161.101 359.927 160.786 358.803 160.155C357.679 159.525 356.829 158.7 356.253 157.682C355.677 156.663 355.389 155.58 355.389 154.432C355.389 153.285 355.677 152.201 356.253 151.183C356.829 150.164 357.679 149.34 358.803 148.709C359.927 148.079 361.31 147.764 362.954 147.764C364.578 147.764 365.952 148.079 367.076 148.709C368.2 149.34 369.05 150.164 369.626 151.183C370.202 152.201 370.49 153.285 370.49 154.432C370.49 155.58 370.202 156.663 369.626 157.682C369.05 158.7 368.2 159.525 367.076 160.155C365.952 160.786 364.578 161.101 362.954 161.101ZM362.954 158.749C363.879 158.749 364.658 158.547 365.291 158.143C365.924 157.739 366.405 157.205 366.736 156.542C367.067 155.879 367.232 155.176 367.232 154.432C367.232 153.673 367.067 152.965 366.736 152.31C366.405 151.656 365.924 151.126 365.291 150.722C364.658 150.318 363.879 150.116 362.954 150.116C362.028 150.116 361.244 150.318 360.602 150.722C359.96 151.126 359.478 151.656 359.157 152.31C358.836 152.965 358.675 153.673 358.675 154.432C358.675 155.176 358.836 155.879 359.157 156.542C359.478 157.205 359.96 157.739 360.602 158.143C361.244 158.547 362.028 158.749 362.954 158.749Z"
                                              fill="black"/>
                                        <path id="Vector_40"
                                              d="M373.92 160.859V148.006H377.15V149.873H377.32C377.452 149.647 377.679 149.368 378 149.037C378.321 148.705 378.769 148.41 379.346 148.152C379.922 147.893 380.654 147.764 381.542 147.764C382.656 147.764 383.591 147.982 384.347 148.418C385.102 148.855 385.673 149.437 386.061 150.164C386.448 150.892 386.642 151.692 386.642 152.565V160.859H383.412V152.856C383.412 152.08 383.161 151.425 382.661 150.892C382.16 150.358 381.419 150.092 380.437 150.092C379.662 150.092 379.034 150.257 378.552 150.589C378.071 150.92 377.717 151.348 377.49 151.874C377.263 152.4 377.15 152.961 377.15 153.559V160.859H373.92Z"
                                              fill="black"/>
                                        <path id="Vector_41"
                                              d="M396.16 161.101C394.97 161.101 393.993 160.96 393.227 160.677C392.462 160.394 391.853 160.046 391.4 159.634C390.947 159.222 390.612 158.806 390.394 158.385C390.177 157.965 390.04 157.613 389.983 157.33C389.927 157.047 389.898 156.906 389.898 156.906H393.043C393.043 156.906 393.076 157.007 393.142 157.209C393.209 157.411 393.346 157.642 393.553 157.9C393.761 158.159 394.082 158.389 394.517 158.591C394.951 158.794 395.527 158.894 396.245 158.894C397.114 158.894 397.761 158.725 398.186 158.385C398.611 158.046 398.823 157.658 398.823 157.221C398.823 156.801 398.644 156.469 398.285 156.227C397.926 155.984 397.416 155.799 396.755 155.669L394.715 155.281C393.922 155.12 393.181 154.897 392.491 154.614C391.801 154.331 391.244 153.952 390.819 153.475C390.394 152.997 390.182 152.379 390.182 151.619C390.182 150.504 390.673 149.582 391.655 148.855C392.637 148.127 393.96 147.764 395.622 147.764C396.698 147.764 397.591 147.893 398.299 148.152C399.008 148.41 399.57 148.729 399.985 149.11C400.401 149.49 400.712 149.869 400.92 150.249C401.128 150.629 401.265 150.944 401.331 151.195C401.397 151.446 401.43 151.571 401.43 151.571H398.398C398.398 151.571 398.37 151.49 398.313 151.328C398.257 151.167 398.134 150.977 397.945 150.758C397.756 150.54 397.478 150.346 397.109 150.176C396.741 150.007 396.245 149.922 395.622 149.922C394.772 149.922 394.158 150.084 393.78 150.407C393.402 150.73 393.213 151.078 393.213 151.45C393.213 151.838 393.397 152.141 393.766 152.359C394.134 152.577 394.621 152.743 395.225 152.856L397.237 153.244C398.578 153.503 399.683 153.927 400.552 154.517C401.421 155.108 401.855 155.96 401.855 157.076C401.855 157.819 401.633 158.494 401.189 159.1C400.745 159.707 400.098 160.192 399.248 160.555C398.398 160.919 397.369 161.101 396.16 161.101Z"
                                              fill="black"/>
                                    </g>
                                </g>
                                <g>
                                    <path id="explore-check"
                                          stroke-width="2"
                                          stroke="black"
                                          style="stroke-dasharray: 256; stroke-dashoffset: 256;"
                                          d="M339.583 64.6234C340.478 64.6234 341.184 64.2884 341.702 63.6179L361.53 36.8956C361.712 36.6444 361.845 36.4139 361.929 36.2044C362.013 35.9948 362.055 35.7824 362.055 35.5667C362.055 35.0759 361.88 34.6808 361.53 34.3817C361.18 34.0823 360.719 33.9326 360.145 33.9326C359.726 33.9326 359.383 34.0015 359.117 34.1392C358.851 34.277 358.593 34.5133 358.341 34.8486L339.499 60.5468L329.721 49.5923C329.217 49.0058 328.616 48.7125 327.917 48.7125C327.329 48.7125 326.846 48.8709 326.469 49.1881C326.091 49.5056 325.902 49.9095 325.902 50.4006C325.902 50.616 325.951 50.8345 326.049 51.056C326.147 51.2775 326.301 51.4961 326.511 51.7114L337.4 63.582C338.03 64.2765 338.757 64.6234 339.583 64.6234Z"
                                          fill="none"/>
                                </g>
                            </g>
                        </g>
                    </g>
                </svg>

            </div>
        </div>
        <div :style="{height:(width > 768 ? height * 3 : height * 6) + 'px'}" class="w-full shrink-0">

        </div>
        <div id="home-trigger" :style="{height: (width > 768 ? height * 4 : height * 7) + 'px'}"
             class="w-full absolute top-0 shrink-0">

        </div>
    </div>
</template>

<script setup>
import {reactive, onMounted, onDeactivated, onActivated} from "vue";
import anime from "animejs";
import AnimeScrollTrigger from 'anime-scrolltrigger';
import route from "../../api/route.js";
import voteHandIllustration from "../../assets/home/vote-hand-illustration.js";
import threeFingerIllustration from "../../assets/home/three-finger-illustration.js";

const props = defineProps([]);

const data = reactive({});

const height = window.innerHeight;

const width = window.innerWidth;

let isAnimating = false;
let showDownwardArrowTimeout = null;

let downwardArrowAnimation = null
const clickCard = (cardName) => {
    if (isAnimating) return;
    isAnimating = true;
    let tickSelector = document.querySelector(`#${cardName}-check`)
    anime({
        targets: tickSelector,
        strokeDashoffset: 0,
        easing: 'linear',
        duration: 1000,
    })
    anime({
        targets: tickSelector,
        fill: '#000000',
        duration: 500,
        easing: 'linear',
        complete: () => {
            route.changeTo(cardName)
            isAnimating = false;
        }
    })
}


const trigger = () => {
    const body = document.getElementById('home-text');
    const bodyHeight = body.getBoundingClientRect().height;
    const bodyScrollHeight = body.scrollHeight;
    let additive = window.innerWidth > 768 ? 0 : 50;
    new AnimeScrollTrigger(document.getElementById('home'), [
        {
            targets: '.home-illustration',
            scale: [{
                value: (_, i) => (i === 0 ? 0.8 : 1.5),
                // delay: 1000,
            }],
            translateY: [0, 0],
            scrollTrigger: {
                trigger: '#home-trigger',
                start: '1% top',
                end: '70% center',
                lerp: true,
                onLeave: () => {
                    anime({
                        targets: ['.home-illustration', '.description'],
                        filter: `blur(2px)`,
                        easing: 'easeOutQuart',
                        duration: 500,
                    })
                },
                onEnterBack: () => {
                    anime({
                        targets: ['.home-illustration', '.description'],
                        filter: `blur(0px)`,
                        easing: 'easeOutQuart',
                        duration: 500,
                    })
                },
                onUpdate: (_, progress) => {
                    document.querySelector('.title').style.background = width <= 768 || progress > 0.25 ? '#ffffff' : 'transparent';
                    anime({
                        targets: body,
                        scrollTop: progress * (bodyHeight + bodyScrollHeight),
                        easing: 'easeOutQuart',
                        duration: 50,
                    })
                }
            }
        },
        {
            targets: '#Ballot',
            translateY: ['100%', '30%'],
            scrollTrigger: {
                trigger: '#home-trigger',
                start: '40% bottom',
                end: 'bottom bottom',
                lerp: true,
                // smooth: true,
            }
        }, {
            targets: ['#explore', '#story'],
            skewY: [{
                value: 0,
                delay: 1000,
            }],
            translateY: [{
                value: (_, index) => {
                    return index === 0 ? -19 : -100;
                },
            }],
            translateX: [{
                value: (el, index) => {
                    return index === 0 ? -348 + additive : 326 - additive;
                },
                delay: 2000,
            }],
            scale: [{
                value: 1.4,
                delay: 1000,
            }],
            scrollTrigger: {
                trigger: '#home-trigger',
                start: '60% bottom',
                end: 'bottom bottom',
                lerp: true,
                // smooth: true,
            },
        }, {
            scrollTrigger: {
                trigger: '#home-trigger',
                start: 'top top',
                end: 'bottom bottom',
                lerp: true,
                onUpdate: (_, progress) => {
                    anime({
                        targets: '#scroll-down-indicator',
                        easing: 'easeOutQuart',
                        opacity: 0,
                        translateY: [100, 0],
                        duration: 100,
                    })
                    downwardArrowAnimation.pause();
                    if (showDownwardArrowTimeout) clearTimeout(showDownwardArrowTimeout);
                    if (progress > 0.9) {
                        return;
                    }
                    showDownwardArrowTimeout = setTimeout(() => {
                        anime({
                            targets: '#scroll-down-indicator',
                            easing: 'easeOutQuart',
                            opacity: 1,
                            translateY: [100, 0],
                            duration: 100,
                        })
                        downwardArrowAnimation.restart();
                    }, 2000)
                }
                // smooth: true,
            },
        },
    ]);
}

const init = () => {
    anime({
        targets: '.home-title',
        delay: anime.stagger(100),
        duration: 1000,
        opacity: 1,
        translateY: ['100%', '0%'],
        easing: 'easeOutQuart',
        complete: () => {
            anime({
                targets: '#home',
                background: '#fff',
                easing: 'easeOutQuart',
                duration: 1000,
            })

            anime({
                targets: '.home-title',
                color: '#111827',
                easing: 'easeOutQuart',
                duration: 1000,
            })

            anime({
                targets: '#scroll-down-indicator',
                easing: 'easeOutQuart',
                opacity: 1,
                translateY: [100, 0],
                duration: 100,
            })

            downwardArrowAnimation.play();

            anime({
                targets: '.home-illustration',
                opacity: 1,
                translateY: [100, 0],
                delay: (_, index) => index * 400,
                easing: 'easeOutQuart',
                duration: 1000,
            })
            document.getElementById('home').style.overflowY = 'auto'
            trigger();
        }
    })
}
onMounted(() => {
    downwardArrowAnimation = anime({
        targets: '.lucide-arrow-down',
        translateY: [0, 10],
        loop: true,
        autoplay: false,
        easing: 'linear',
        direction: 'alternate',
        duration: 800,
    })
    init();

})

onActivated(() => {
    document.querySelector('#home').scrollTo({
        top: 0,
        behavior: "smooth"
    });

})
</script>

<style scoped>

.home-title {
    transform: translateY(100%);
}

#home {
    -ms-overflow-style: none; /* Internet Explorer 10+ */
    scrollbar-width: none; /* Firefox */
}

#home::-webkit-scrollbar {
    display: none; /* Safari and Chrome */
}
</style>
